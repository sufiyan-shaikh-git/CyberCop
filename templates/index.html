<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CYBER COP | Advanced Threat Detection</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <div class="header-container">
        <h1>CYBER COP <i class="fas fa-shield-alt"></i></h1>
        <div class="subtitle">AI-POWERED THREAT INTELLIGENCE SYSTEM</div>
        <div class="creator-tag">
            Created By: <span class="creator-name">SUFIYAN SHAIKH</span>
        </div>
    </div>

    <div class="main-container">
        
        <div class="card">
            <h2><i class="fas fa-link"></i> Phishing Link Scanner</h2>
            <p style="color:#ccc;">Paste a URL to analyze it for phishing patterns using AI & Keyword rules.</p>
            
            <input type="text" id="urlInput" placeholder="Enter URL (e.g., http://free-prize.com)">
            <button onclick="scanURL()">INITIATE SCAN <i class="fas fa-radar"></i></button>
            
            <div id="urlLoader" class="loader-container">
                <div class="radar"></div>
                <div>Scanning neural pathways...</div>
            </div>
            <div id="urlResult" class="result-box"></div>
        </div>

        <div class="card">
            <h2><i class="fas fa-file-code"></i> Malware File Scanner</h2>
            <p style="color:#ccc;">Upload .exe/.dll for Signature (Hash) & AI Structure analysis.</p>
            
            <input type="file" id="fileInput">
            <button onclick="scanFile()">ANALYZE FILE <i class="fas fa-microchip"></i></button>
            
            <div id="fileLoader" class="loader-container">
                <div class="radar"></div>
                <div>Analyzing PE structure & Hash...</div>
            </div>
            <div id="fileResult" class="result-box"></div>
        </div>

    </div>

    <script>
        function toggleLoader(type, show) {
            const loader = document.getElementById(`${type}Loader`);
            const resultBox = document.getElementById(`${type}Result`);
            if (show) {
                loader.style.display = 'block';
                resultBox.style.display = 'none';
            } else {
                loader.style.display = 'none';
                resultBox.style.display = 'block';
            }
        }

        async function scanURL() {
            let url = document.getElementById('urlInput').value;
            let resultBox = document.getElementById('urlResult');

            if(!url) { alert("Please enter a URL first!"); return; }

            toggleLoader('url', true);
            let formData = new FormData();
            formData.append('url', url);

            try {
                let response = await fetch('/scan_url', {method: 'POST', body: formData});
                let data = await response.json();
                toggleLoader('url', false);
                resultBox.innerHTML = data.result;
                if(data.result.includes("DANGER") || data.result.includes("Block")) {
                    resultBox.className = "result-box danger";
                } else {
                    resultBox.className = "result-box safe";
                }
            } catch (e) {
                toggleLoader('url', false);
                resultBox.className = "result-box danger";
                resultBox.innerText = "⚠️ Server Connection Error.";
            }
        }

        async function scanFile() {
            let fileInput = document.getElementById('fileInput');
            let resultBox = document.getElementById('fileResult');

            if(fileInput.files.length === 0) { alert("Select a file first!"); return; }

            toggleLoader('file', true);
            let formData = new FormData();
            formData.append('file', fileInput.files[0]);

            try {
                let response = await fetch('/scan_file', {method: 'POST', body: formData});
                let data = await response.json();
                toggleLoader('file', false);
                resultBox.innerHTML = data.result;
                if(data.result.includes("DANGER")) {
                    resultBox.className = "result-box danger";
                } else {
                    resultBox.className = "result-box safe";
                }
            } catch (e) {
                toggleLoader('file', false);
                resultBox.className = "result-box danger";
                resultBox.innerText = "⚠️ Server Connection Error/Timeout.";
            }
        }
        /**
 * CYBERCOP SIDEBAR LOGIC
 * Created by: Sufiyan Shaikh (MrKim)
 */

// Function: Sidebar ko kholne ya band karne ke liye
function toggleSidebar() 
{
    const sidebar = document.getElementById('side-tab');
    
    // Check karta hai ki kya 'active' class pehle se hai
    if (sidebar.classList.contains('active')) {
        // Agar hai to hata do (Band kar do)
        sidebar.classList.remove('active');
    } else {
        // Agar nahi hai to laga do (Khol do)
        sidebar.classList.add('active');
    }
}

// Function: Form submit hone par storage ki bachat aur user feedback
document.getElementById('feedback-form').addEventListener('submit', function() {
    // Ye message user ko dikhega jab email bhej diya jayega
    alert('Thank you! Developer got Your feedback successfully.');
    
    // Sidebar ko apne aap band karne ke liye
    setTimeout(toggleSidebar, 1000); 
});
    </script>
    <div id="side-tab" class="side-tab">
        <button class="close-btn" onclick="toggleSidebar()">×</button>
        
        <div class="sidebar-content">
            <h3>CyberCop Info Portal</h3>
            <hr class="neon-line">
    
            <section id="feedback-section">
                <h4>Feedback & Contact</h4>
                <p>Your feedback will be sent direct to  Sufiyan(MrKim).</p>
                <form action="https://formspree.io/f/xkogelqa" method="POST" id="feedback-form">
                    <input type="text" name="name" placeholder="Your Name" required>
                    <input type="email" name="_replyto" placeholder="Your Email" required>
                    <textarea name="message" placeholder="Your feedback Or Question..." required></textarea>
                    <button type="submit" class="neon-btn">Send Message</button>
                </form>
            </section>
    
            <hr class="neon-line">
    
           
        </div>
    </div>
   
    <div class="footer-policy-box">
        <h4>CyberCop Privacy Policy</h4>
        <p><strong>Data Privacy:</strong> CyberCop does not store, log, or track any personal data or scan history. All analyses are performed in real-time for your security.</p>
        <p><strong>Heuristic Analysis:</strong> Our AI models analyze file structures locally. No data is shared with third parties or used for model training.</p>
        <p><strong>Contact:</strong> For inquiries, use the feedback form in the side menu. Created by Sufiyan Shaikh (MrKim).</p>
        <p>Contact Developer: <b>sufiyan77744@gmail.com.com</b></p>
        <p>Developed by: <b>Sufiyan Shaikh (MrKim) designer: Rehan</b></p>
        <p> class="copyright-text">© 2026 CyberCop | All Rights Reserved</p>
       
    </div>
   
    
    <button class="floating-info-btn" onclick="toggleSidebar()">
        <span>Info</span>
    </button>
    <script>
        // ============================================================
        // SIDEBAR & FEEDBACK LOGIC - DEVELOPED BY SUFIYAN (MRKIM)
        // ============================================================
    
        // 1. Function: Sidebar ko kholne aur band (toggle) karne ke liye
        function toggleSidebar() {
            // 'side-tab' id wale element mein 'active' class add ya remove karta hai
            document.getElementById('side-tab').classList.toggle('active');
        }
    
        // 2. Logic: Form submit hone ke baad auto-clear karne ke liye
        // Hum window.onload use kar rahe hain taaki script tabhi chale jab page load ho jaye
        window.onload = function() {
            const feedbackForm = document.getElementById('feedback-form');
    
            if (feedbackForm) {
                feedbackForm.addEventListener('submit', function(event) {
                    // Form submit hone ke 1 second baad ye code chalega
                    setTimeout(function() {
                        // Form ke saare input fields (Name, Message) ko khaali kar deta hai
                        feedbackForm.reset();
                        
                        // User ko ek simple success message dikhata hai
                        alert('Thank you! Sufiyan (MrKim) ko aapka feedback mil gaya hai.');
                        
                        // Form clear hone ke baad sidebar ko apne aap band kar deta hai
                        toggleSidebar();
                    }, 1000); 
                });
            }
        };
    
        /** * NOTE FOR FUTURE UPDATES:
         * - Agar naya button add karna ho toh bas naya function banayein.
         * - 'toggleSidebar' animation CSS class '.active' par depend karti hai.
         * - Form reset logic Formspree ke redirection ke baad trigger hota hai.
         */
    </script>
</body>
</html>
</body>
</html>
